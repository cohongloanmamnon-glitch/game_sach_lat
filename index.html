<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√°ch 3D Vui Nh·ªôn - B√© T·∫≠p Ph√¢n Lo·∫°i</title>
    <style>
        body {
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            perspective: 2000px;
            overflow: hidden;
        }

        .book {
            position: relative;
            width: 450px;
            height: 650px;
            transform-style: preserve-3d;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-color: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transform-origin: left;
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1);
            cursor: pointer;
            border-radius: 5px 20px 20px 5px;
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            padding: 25px;
            box-sizing: border-box;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #ddd;
        }

        .back { transform: rotateY(180deg); background-color: #f9f9f9; }
        .page.flipped { transform: rotateY(-180deg); }

        /* Th·ª© t·ª± trang */
        #p1 { z-index: 5; } #p2 { z-index: 4; } #p3 { z-index: 3; } #p4 { z-index: 2; } #p5 { z-index: 1; }

        /* H√¨nh n·ªÅn b√¨a */
        .cover-img {
            background-image: url('NEN.png');
            background-size: 100% 100%;
            width: 100%;
            height: 100%;
            border-radius: 5px 20px 20px 5px;
        }

        /* L∆∞·ªõi hi·ªÉn th·ªã ƒë·ªì v·∫≠t */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            flex-grow: 1;
            align-content: center;
        }

        .item-box { display: flex; flex-direction: column; align-items: center; }
        .item-img {
            width: 140px; 
            height: 140px;
            object-fit: contain;
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.1));
        }

        .question-box {
            background: #fff9c4;
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #fbc02d;
            text-align: center;
            font-weight: bold;
            color: #d35400;
            margin-bottom: 20px; /* Th√™m kho·∫£ng c√°ch ƒë·ªÉ kh√¥ng ƒë√® l√™n t√™n t√°c gi·∫£ */
        }

        .answer-text {
            font-size: 2.2em;
            font-weight: bold;
            color: #2e7d32;
            text-align: center;
            line-height: 1.2;
        }

        .thanks-page {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: white;
            justify-content: center;
            text-align: center;
        }

        /* --- CSS M·ªöI CHO T√äN T√ÅC GI·∫¢ --- */
        .author-footer {
            position: absolute;
            bottom: 10px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 13px;
            font-style: italic;
            color: #7f8c8d;
            z-index: 10;
            font-weight: 500;
        }

        /* ƒê·ªïi m√†u ch·ªØ t√°c gi·∫£ th√†nh tr·∫Øng ·ªü trang c·∫£m ∆°n ƒë·ªÉ d·ªÖ ƒë·ªçc tr√™n n·ªÅn m√†u */
        .thanks-page .author-footer {
            color: rgba(255, 255, 255, 0.9);
        }
    </style>
</head>
<body>

    <audio id="soundFlip" src="lat_sach.mp3"></audio>
    <audio id="soundSuccess" src="dung.mp3"></audio>

    <div class="book">
        
        <div class="page" id="p1" onclick="handleFlip(this)">
            <div class="front">
                <div class="cover-img"></div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
            <div class="back">
                <h1 style="color: #c0392b;">C√ÅCH CH∆†I</h1>
                <p style="font-size: 1.3em; line-height: 1.6; text-align: center;">
                    B√© h√£y l·∫≠t s√°ch, g·ªçi t√™n c√°c ƒë·ªì v·∫≠t v√† t√¨m ra <b>t√™n g·ªçi chung</b> c·ªßa ch√∫ng nh√©!
                </p>
                <div style="font-size: 80px;">üéØ</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
        </div>

        <div class="page" id="p2" onclick="handleFlip(this, true)">
            <div class="front">
                <h2>B√© t√¨m t√™n g·ªçi chung?</h2>
                <div class="grid-container">
                    <div class="item-box"><img src="dia.jpg" class="item-img"></div>
                    <div class="item-box"><img src="chen.jpg" class="item-img"></div>
                    <div class="item-box"><div style="font-size: 100px;">ü•Ñ</div></div>
                    <div class="item-box"><div style="font-size: 100px;">ü•õ</div></div>
                </div>
                <div class="question-box">ƒê√¢y l√† nh√≥m ƒë·ªì d√πng g√¨?</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
            <div class="back">
                <h2>CH√çNH X√ÅC!</h2>
                <div class="answer-text">ƒê·ªí D√ôNG<br>ƒÇN U·ªêNG</div>
                <div style="font-size: 100px;">üå∏</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
        </div>

        <div class="page" id="p3" onclick="handleFlip(this, true)">
            <div class="front">
                <h2>B√© t√¨m t√™n g·ªçi chung?</h2>
                <div class="grid-container">
                    <div class="item-box"><img src="bepga.png" class="item-img"></div>
                    <div class="item-box"><img src="chao.png" class="item-img"></div>
                    <div class="item-box"><img src="lovisong.png" class="item-img"></div>
                    <div class="item-box"><div style="font-size: 100px;">üç≤</div></div>
                </div>
                <div class="question-box">ƒê√¢y l√† nh√≥m ƒë·ªì d√πng g√¨?</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
            <div class="back">
                <h2>GI·ªéI QU√Å!</h2>
                <div class="answer-text">ƒê·ªí D√ôNG<br>NH√Ä B·∫æP</div>
                <div style="font-size: 100px;">üåª</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
        </div>

        <div class="page" id="p4" onclick="handleFlip(this, true)">
            <div class="front">
                <h2>B√© t√¨m t√™n g·ªçi chung?</h2>
                <div class="grid-container">
                    <div class="item-box"><img src="but.jpg" class="item-img"></div>
                    <div class="item-box"><img src="vo.jpg" class="item-img"></div>
                    <div class="item-box"><img src="thuoc.jpg" class="item-img"></div>
                    <div class="item-box"><img src="t·∫©y.jpg" class="item-img"></div>
                </div>
                <div class="question-box">ƒê√¢y l√† nh√≥m ƒë·ªì d√πng g√¨?</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
            <div class="back">
                <h2>TUY·ªÜT V·ªúI!</h2>
                <div class="answer-text">ƒê·ªí D√ôNG<br>H·ªåC T·∫¨P</div>
                <div style="font-size: 100px;">üåº</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
        </div>

        <div class="page" id="p5" onclick="handleFlip(this)">
            <div class="front thanks-page">
                <h1 style="font-size: 3em;">C·∫¢M ∆†N<br>C√ÅC B√â!</h1>
                <p style="font-size: 1.5em;">B√© ƒë√£ ho√†n th√†nh r·∫•t t·ªët!</p>
                <div style="font-size: 120px;">üéâ</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
            <div class="back thanks-page">
                <h1>H·∫∏N G·∫∂P L·∫†I</h1>
                <div style="font-size: 100px;">üëã</div>
                <div class="author-footer">Ng∆∞·ªùi th·ª±c hi·ªán: Tr·∫ßn H·ªìng Loan</div>
            </div>
        </div>

    </div>

    <script>
        function handleFlip(page, isAnswerPage = false) {
            const flipSound = document.getElementById('soundFlip');
            const successSound = document.getElementById('soundSuccess');

            // Ch∆°i ti·∫øng l·∫≠t s√°ch
            flipSound.currentTime = 0;
            flipSound.play();

            // N·∫øu l·∫≠t sang m·∫∑t sau (ƒë√°p √°n) th√¨ ch∆°i ti·∫øng v·ªó tay
            if (!page.classList.contains('flipped') && isAnswerPage) {
                setTimeout(() => {
                    successSound.currentTime = 0;
                    successSound.play();
                }, 600);
            }

            page.classList.toggle('flipped');
            
            // X·ª≠ l√Ω z-index
            if (page.classList.contains('flipped')) {
                setTimeout(() => { page.style.zIndex = 1; }, 600);
            } else {
                const idMap = { 'p1': 5, 'p2': 4, 'p3': 3, 'p4': 2, 'p5': 1 };
                page.style.zIndex = idMap[page.id];
            }
        }
    </script>
</body>
</html>
